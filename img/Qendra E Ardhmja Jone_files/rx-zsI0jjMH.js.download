if (self.CavalryLogger) { CavalryLogger.start_js(["\/1tsR"]); }

__d("GraphQLSubscriptionsLoggerEvent",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SYSTEM_SUBSCRIBE:"subscribe",SYSTEM_UNSUBSCRIBE:"unsubscribe",CLIENT_SUBSCRIBE:"client_subscribe",CLIENT_UNSUBSCRIBE:"client_unsubscribe",PUBLISH:"publish",SEND:"send",GENPAYLOAD:"genpayload",GENTOPIC:"gentopic",RECEIVEPAYLOAD:"receivepayload"};}),null);
__d("GraphQLSubscriptionsMechanism",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SKYWALKER:"skywalker"};}),null);
__d("PagesMessagingActionPlacement",[],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports={SPRINGBOARD_INLINE_ACTION:"springboard_inline_action",THREAD_LIST_BATCH_ACTION:"thread_list_batch_action",THREAD_ROW_ACTION_ICON:"thread_row_action_icon",MESSAGE_DIALOG_ACTION_LIST:"message_dialog_action_list",MESSAGE_DIALOG_OPENING:"message_dialog_opening",MESSAGE_DIALOG_SHOWN:"message_dialog_shown",THREAD_TITLE_BAR:"thread_title_bar",HOME_PAGE_PAGELET_INLINE_ACTION:"home_page_pagelet_inline_action",UNKNOWN:"unknown"};}),null);
__d('GraphQLSubscriptionsTypedLogger',['Banzai','GeneratedLoggerUtils','nullthrows'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();function h(){this.clear();}h.prototype.log=function(){c('GeneratedLoggerUtils').log('logger:GraphQLSubscriptionsLoggerConfig',this.$GraphQLSubscriptionsTypedLogger1,c('Banzai').BASIC);};h.prototype.logVital=function(){c('GeneratedLoggerUtils').log('logger:GraphQLSubscriptionsLoggerConfig',this.$GraphQLSubscriptionsTypedLogger1,c('Banzai').VITAL);};h.prototype.clear=function(){this.$GraphQLSubscriptionsTypedLogger1={};return this;};h.prototype.updateData=function(j){this.$GraphQLSubscriptionsTypedLogger1=babelHelpers['extends']({},this.$GraphQLSubscriptionsTypedLogger1,j);return this;};h.prototype.setAppID=function(j){this.$GraphQLSubscriptionsTypedLogger1.appid=j;return this;};h.prototype.setAppversion=function(j){this.$GraphQLSubscriptionsTypedLogger1.appversion=j;return this;};h.prototype.setClientSampleWeight=function(j){this.$GraphQLSubscriptionsTypedLogger1.client_sample_weight=j;return this;};h.prototype.setClientUserID=function(j){this.$GraphQLSubscriptionsTypedLogger1.client_userid=j;return this;};h.prototype.setClienttime=function(j){this.$GraphQLSubscriptionsTypedLogger1.clienttime=j;return this;};h.prototype.setDebugData=function(j){this.$GraphQLSubscriptionsTypedLogger1.debug_data=j;return this;};h.prototype.setEvent=function(j){this.$GraphQLSubscriptionsTypedLogger1.event=j;return this;};h.prototype.setExceptionData=function(j){this.$GraphQLSubscriptionsTypedLogger1.exception_data=j;return this;};h.prototype.setExceptionType=function(j){this.$GraphQLSubscriptionsTypedLogger1.exception_type=j;return this;};h.prototype.setIsemployee=function(j){this.$GraphQLSubscriptionsTypedLogger1.isemployee=j;return this;};h.prototype.setMechanism=function(j){this.$GraphQLSubscriptionsTypedLogger1.mechanism=j;return this;};h.prototype.setMutationType=function(j){this.$GraphQLSubscriptionsTypedLogger1.mutation_type=j;return this;};h.prototype.setName=function(j){this.$GraphQLSubscriptionsTypedLogger1.name=j;return this;};h.prototype.setPublishCluster=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_cluster=j;return this;};h.prototype.setPublishID=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_id=j;return this;};h.prototype.setPublishTimeMs=function(j){this.$GraphQLSubscriptionsTypedLogger1.publish_time_ms=j;return this;};h.prototype.setQueryID=function(j){this.$GraphQLSubscriptionsTypedLogger1.query_id=j;return this;};h.prototype.setQueryParams=function(j){this.$GraphQLSubscriptionsTypedLogger1.query_params=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setSessionID=function(j){this.$GraphQLSubscriptionsTypedLogger1.session_id=j;return this;};h.prototype.setSubscriptionCall=function(j){this.$GraphQLSubscriptionsTypedLogger1.subscription_call=j;return this;};h.prototype.setTopic=function(j){this.$GraphQLSubscriptionsTypedLogger1.topic=j;return this;};h.prototype.setTopicData=function(j){this.$GraphQLSubscriptionsTypedLogger1.topic_data=c('GeneratedLoggerUtils').serializeMap(j);return this;};h.prototype.setVC=function(j){this.$GraphQLSubscriptionsTypedLogger1.vc=j;return this;};var i={appid:true,appversion:true,client_sample_weight:true,client_userid:true,clienttime:true,debug_data:true,event:true,exception_data:true,exception_type:true,isemployee:true,mechanism:true,mutation_type:true,name:true,publish_cluster:true,publish_id:true,publish_time_ms:true,query_id:true,query_params:true,session_id:true,subscription_call:true,topic:true,topic_data:true,vc:true};f.exports=h;}),null);
__d('MercuryPageThreadActions',['MercuryActionType','MercuryPayloadSource','MercuryPageServerRequests','MercurySingletonMixin','MercuryThreadActions'],(function a(b,c,d,e,f,g){var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('MercuryThreadActions'));i=h&&h.prototype;function j(k){'use strict';i.constructor.call(this,k);this.__serverRequests=c('MercuryPageServerRequests').getForFBID(k);}j.prototype.addFlag=function(k,l){'use strict';this.batchFlag([k],l);};j.prototype.batchAddFlag=function(k,l){'use strict';k.forEach(function(m){this.__serverRequests.addThreadFlag(m,l);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(k,true,l));};j.prototype.removeFlag=function(k,l){'use strict';this.batchRemoveFlag([k],l);};j.prototype.batchRemoveFlag=function(k,l){'use strict';k.forEach(function(m){this.__serverRequests.removeThreadFlag(m,l);}.bind(this));this.__dispatcher.handleUpdate(this.$MercuryPageThreadActions1(k,false,l));};j.prototype.$MercuryPageThreadActions1=function(k,l,m){'use strict';return this.__constructClientPayload(k,c('MercuryActionType').CHANGE_FLAG,c('MercuryPayloadSource').CLIENT_CHANGE_FLAG,{mark_as_flag:l,source:m});};Object.assign(j,c('MercurySingletonMixin'),{_instances:{}});f.exports=j;}),null);
__d('MessengerMeLogMessageBody.react',['ImmutableObject','MercuryConfig','MercuryMeMessageProcessor','MessengerTextWithEntities.react','React','TextWithEntities.react'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();var j=c('React').PropTypes;h=babelHelpers.inherits(k,c('React').PureComponent);i=h&&h.prototype;function k(){var l,m;for(var n=arguments.length,o=Array(n),p=0;p<n;p++)o[p]=arguments[p];return m=(l=i.constructor).call.apply(l,[this].concat(o)),this.state={messageText:''},m;}k.prototype.componentDidMount=function(){this.componentWillReceiveProps(this.props);};k.prototype.componentWillReceiveProps=function(l){if(c('MercuryMeMessageProcessor').shouldTransformSnippet(l.message.body))c('MercuryMeMessageProcessor').transformSnippet(l.message.body,l.message.author,l.thread,function(m){this.setState({messageText:m});}.bind(this));};k.prototype.render=function(){var l=c('TextWithEntities.react');if(c('MercuryConfig').MessengerNewEmojiGK)l=c('MessengerTextWithEntities.react');return (c('React').createElement(l,{renderEmoji:true,renderEmoticons:true,text:this.state.messageText}));};k.propTypes={message:j.instanceOf(c('ImmutableObject')).isRequired,thread:j.object};f.exports=k;}),null);
__d('MercuryThreadSnippet.react',['cx','fbt','immutable','ImmutableObject','MercuryAttachmentSnippet.react','MercuryConfig','MercuryIDs','MercuryMeMessageProcessor','MessengerMeLogMessageBody.react','MessengerTextWithEmoticons.react','MNAdsLogMessageUtils','React','TextWithEmoticons.react'],(function a(b,c,d,e,f,g,h,i){'use strict';var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes;j=babelHelpers.inherits(m,c('React').Component);k=j&&j.prototype;function m(){var p,q;for(var r=arguments.length,s=Array(r),t=0;t<r;t++)s[t]=arguments[t];return q=(p=k.constructor).call.apply(p,[this].concat(s)),this.$MercuryThreadSnippet1=function(){if(!this.props.thread.snippet||!n(this.props.thread))return null;return (c('React').createElement('span',{className:"_j0r"}));}.bind(this),this.$MercuryThreadSnippet2=function(){var u=this.props.thread,v=c('MercuryIDs').getParticipantIDFromUserID(this.props.viewer),w=this.props.thread.snippet,x=this.props.shouldRenderYou;if(c('MercuryMeMessageProcessor').shouldTransformSnippet(w)&&u.snippet_sender)return (c('React').createElement(c('MessengerMeLogMessageBody.react'),{message:new (c('ImmutableObject'))({author:u.snippet_sender,body:u.snippet}),thread:u}));if(u.snippetCount!=null)return i._({"*":"{number} results","268435456":"1 result"},[i.plural(u.snippetCount,'number')]);var y=this.$MercuryThreadSnippet3(w),z=u.participants.length;if(u.is_subscribed)z--;c('MNAdsLogMessageUtils').logAdsThreadListImpression(u);if(u.snippet_has_attachment||!u.snippet_sender)return y;if(u.snippet_sender===v){if(!x)return y;return i._("You: {conversation_snippet}",[i.param('conversation_snippet',y)]);}if(z<=1&&!this.props.shouldAlwaysRenderSender)return y;var aa=this.props.participants.get(u.snippet_sender);if(!aa)return y;var ba=aa.short_name||aa.name;if(u){var ca=u.custom_nickname?u.custom_nickname:null,da=c('MercuryIDs').getUserIDFromParticipantID(aa.id);if(ca&&da&&ca[da]){ba=ca[da];if(c('MercuryConfig').MessengerNewEmojiGK)ba=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:ba});}}if(!ba)return y;return i._("{name}: {conversation_snippet}",[i.param('name',ba),i.param('conversation_snippet',y)]);}.bind(this),this.$MercuryThreadSnippet3=function(u){if(u&&u.startsWith('?OTR'))return i._("[encrypted message]");if(u){var v=c('React').createElement(c('TextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:u.replace(/\r\n|[\r\n]/g,' ')});if(c('MercuryConfig').MessengerNewEmojiGK)v=c('React').createElement(c('MessengerTextWithEmoticons.react'),{renderEmoticons:true,renderEmoji:true,text:u.replace(/\r\n|[\r\n]/g,' ')});return v;}var w=this.props.thread;if(n(w))return (c('React').createElement(c('MercuryAttachmentSnippet.react'),{thread:w,viewer:this.props.viewer}));return null;}.bind(this),q;}m.prototype.shouldComponentUpdate=function(p,q){return this.props.shouldRenderYou!==p.shouldRenderYou||this.props.thread!==p.thread||this.props.viewer!==p.viewer||this.props.className!==p.className||!c('immutable').is(p.participants,this.props.participants);};m.prototype.render=function(){return c('React').createElement('span',{className:this.props.className},this.$MercuryThreadSnippet1(),this.$MercuryThreadSnippet2());};m.propTypes={participants:l.instanceOf(c('immutable').Map).isRequired,shouldAlwaysRenderSender:l.bool,shouldRenderYou:l.bool,thread:l.object.isRequired,viewer:l.string.isRequired};function n(p){return (p.snippet_has_attachment&&p.snippet_attachments&&p.snippet_attachments.length>0);}function o(p){return !p.snippet&&n(p);}f.exports=m;}),null);
__d('MercuryPagesChannelHandlerDEPRECATED',['ChannelConstants','MercuryActionType','MercuryChannelHandlerDEPRECATED','MercuryConfig','MercuryPayloadSource','MercurySingletonProvider','MessagingEvent','MessagingRealtimeConstants'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('MercuryChannelHandlerDEPRECATED'));i=h&&h.prototype;j.get=function(){return k.get();};j.getForFBID=function(l){return k.getForFBID(l);};j.prototype.__markAsSeen=function(l,m){if(this.isPayloadForCurrentInstance(m))i.__markAsSeen.call(this,l,m);};j.prototype.__handleMessagingPayload=function(l,m){if(this.isPayloadForCurrentInstance(m))i.__handleMessagingPayload.call(this,l,m);};j.prototype.getRouting=function(){return {pages_messaging:this.__handleMessagingPayload};};j.prototype.__getMessagingPayloadType=function(){return c('ChannelConstants').getArbiterType('pages_messaging');};j.prototype.__getMercuryPayloadType=function(){return '';};j.prototype.__getInboxPayloadType=function(){return '';};j.prototype.isPayloadForCurrentInstance=function(l){var m=l.obj[c('MessagingRealtimeConstants').VIEWER_FBID]+'',n=i.getInstanceFBID.call(this)+'';return m===n;};function j(){h.apply(this,arguments);}var k=new (c('MercurySingletonProvider'))(j);f.exports=j;}),null);
__d('MercurySyncPageEnvironment',['Arbiter','ChannelInitialData','ChannelManager','MercurySyncDeltaHandler'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();'use strict';function h(j,k){if(Object.keys(c('ChannelInitialData')).length===0&&JSON.stringify(c('ChannelInitialData'))===JSON.stringify({}))return;if(!k)k=0;c('MercurySyncDeltaHandler').getForFBID(j);c('ChannelManager').subscribeIrisQueue(j,k.toString());c('Arbiter').inform('MercurySyncDeltaHandler/initSeqID',{fbid:j,seqID:k});}function i(j){}f.exports={setUp:h,tearDown:i};}),null);
__d('LeftFillRightFitLayout.react',['invariant','Layout.react','React'],(function a(b,c,d,e,f,g,h){'use strict';var i,j;if(c.__markCompiled)c.__markCompiled();var k=c('Layout.react').Column,l=c('Layout.react').FillColumn;i=babelHelpers.inherits(m,c('React').Component);j=i&&i.prototype;function m(n){j.constructor.call(this,n);}m.prototype.$LeftFillRightFitLayout1=function(){var n=[],o=this.props.children;!(o&&o.length===2)?h(0):void 0;c('React').Children.forEach(this.props.children,function(p){return n.push(p);},this);return {firstChild:n[0],secondChild:n[1]};};m.prototype.render=function(){var n=this.$LeftFillRightFitLayout1();return (c('React').createElement(c('Layout.react'),{className:this.props.className,style:this.props.style},c('React').createElement(l,{className:this.props.fillColumnClassName},n.firstChild),c('React').createElement(k,{className:this.props.fitColumnClassName},n.secondChild)));};f.exports=m;}),null);
__d('SpotlightViewerBehaviorsMixin',['BehaviorsMixin'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={componentWillMount:function i(){this.behaviors&&this.enableBehaviors(this.behaviors);},componentWillUnmount:function i(){this.destroyBehaviors();}};Object.assign(h,c('BehaviorsMixin'));f.exports=h;}),null);
__d('PhotoViewerDimensions',['Event','PhotoUtils','Vector'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={verticalPadding:'number',horizontalPadding:'number',normalResDim:'object'};function i(j){'use strict';for(var k in j){if(!h[k])throw new Error("Unsupported extraData value '"+k+"' should not be used");if(typeof j[k]===h[k])this['_'+k]=j[k];}this._listener=c('Event').listen(window,'resize',this._resetMaxStageDimensions.bind(this));}i.prototype.destroy=function(){'use strict';this._listener.remove();};i.prototype.getStageDimensions=function(j){'use strict';var k=this.getMaxStageDimensions(),l=new (c('Vector'))(Math.min(j.x,k.x),Math.min(j.y,k.y)),m=l.x/l.y,n=j.x/j.y;if(m<n){l.y=Math.round(l.x/n);}else l.x=Math.round(l.y*n);return l;};i.prototype.getImageDimensionsForStage=function(j,k){'use strict';var l=j.x,m=j.y,n=k.x,o=k.y;if(l>=n||m>=o){var p=l/m,q=n/o;if(q<p){l=n;m=Math.round(n/p);}else if(q>p){l=Math.round(o*p);m=o;}else{l=n;m=o;}}return new (c('Vector'))(l,m);};i.prototype.getImageDimensionsForMaxStage=function(j,k){'use strict';var l=j.x,m=j.y,n=k.x,o=k.y-this._photoStripHeight,p=l/m,q=n/o;if(l>=n||m>=o){if(q<p){l=n;m=Math.round(n/p);}else if(q>p){l=Math.round(o*p);m=o;}else{l=n;m=o;}}else if(p<q){l=Math.round(m*p);}else m=Math.round(l/p);return new (c('Vector'))(l,m);};i.prototype.getMaxStageDimensions=function(){'use strict';if(!this._maxStageDimensions)this._maxStageDimensions=new (c('Vector'))(c('Vector').getViewportDimensions().x-this._horizontalPadding,c('Vector').getViewportDimensions().y-this._verticalPadding);return this._maxStageDimensions;};i.prototype.getMaxStageDimensionsWithoutPadding=function(){'use strict';if(!this._maxStageDimensions)this._maxStageDimensions=new (c('Vector'))(c('Vector').getViewportDimensions().x,c('Vector').getViewportDimensions().y);return this._maxStageDimensions;};i.prototype._resetMaxStageDimensions=function(){'use strict';this._maxStageDimensions=null;};i.prototype.getBestFitImageFromPhoto=function(j,k){'use strict';var l=null,m=c('PhotoUtils').getImagesFromData(j);m=m.sort(function(o,p){return p.width-o.width;});if(window.devicePixelRatio&&window.devicePixelRatio>1)k=new (c('Vector'))(k.x*window.devicePixelRatio,k.y*window.devicePixelRatio);for(var n=0;n<m.length;n++)if(!l||m[n].width>=k.x||m[n].height>=k.y)l=m[n];return l;};i.prototype.getOriginalDimensionsFromPhoto=function(j){'use strict';var k=c('PhotoUtils').getOriginalImageFromData(j);return new (c('Vector'))(k.width,k.height);};i.prototype.getBestFitDimensionsFromPhoto=function(j,k){'use strict';var l=this.getBestFitImageFromPhoto(j,k);return new (c('Vector'))(l.width,l.height);};i.prototype.getVerticalPadding=function(){'use strict';return this._verticalPadding;};i.prototype.getHorizontalPadding=function(){'use strict';return this._horizontalPadding;};Object.assign(i.prototype,{_verticalPadding:40,_horizontalPadding:60,_normalResDim:{x:960,y:960},_photoStripHeight:88});f.exports=i;}),null);
__d('SpotlightViewerStageResizer',['CurrentEnvironment','Event','MercuryConfig','SubscriptionsHandler','Vector'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h=520;function i(j,k){'use strict';this._subscriptionsHandler=new (c('SubscriptionsHandler'))();this._subscriptionsHandler.addSubscriptions(c('Event').listen(window,'resize',this._resetStageDimensions.bind(this)));this._dimensions=j;this._minHeight=k.minHeight||h;this._minWidth=k.minWidth||h;this._resetStageDimensions();}i.prototype.destroy=function(){'use strict';this._dimensions=null;this._subscriptionsHandler.release();};i.prototype._resetStageDimensions=function(){'use strict';this._currentStageDimensions=new (c('Vector'))(this._minWidth,this._minHeight);};i.prototype.getImageAndStageDimensions=function(j){'use strict';var k=this._dimensions.getBestFitDimensionsFromPhoto(j,this._dimensions.getMaxStageDimensions()),l=c('MercuryConfig').SharedPhotoNewView&&c('CurrentEnvironment').messengerdotcom?this._dimensions.getMaxStageDimensionsWithoutPadding(k):this._dimensions.getStageDimensions(k);this._currentStageDimensions=new (c('Vector'))(Math.max(l.x,this._minWidth,this._currentStageDimensions.x),Math.max(l.y,this._minHeight,this._currentStageDimensions.y));var m=c('MercuryConfig').SharedPhotoNewView&&c('CurrentEnvironment').messengerdotcom?this._dimensions.getImageDimensionsForMaxStage(k,this._currentStageDimensions):this._dimensions.getImageDimensionsForStage(k,this._currentStageDimensions);return {stageDimensions:this._currentStageDimensions,imageDimensions:m};};i.prototype.getCurrentStageDimensions=function(){'use strict';return this._currentStageDimensions;};f.exports=i;}),null);
__d('SpotlightViewerDimensionMixin',['CurrentEnvironment','MercuryConfig','SpotlightViewerStageResizer','PhotoViewerDimensions'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={getInitialState:function i(){this._dimensions=new (c('PhotoViewerDimensions'))({verticalPadding:this.props.verticalPadding,horizontalPadding:this.props.horizontalPadding});this._resizer=new (c('SpotlightViewerStageResizer'))(this._dimensions,{minHeight:this.props.minHeight,minWidth:this.props.minWidth});return {maxStageDimensions:c('MercuryConfig').SharedPhotoNewView&&c('CurrentEnvironment').messengerdotcom?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions()};},componentWillUnmount:function i(){this._resizer&&this._resizer.destroy();this._resizer=null;this._dimensions&&this._dimensions.destroy();this._dimensions=null;},getMedia:function i(){if(this.state.photoData){if(this.state.photoData.__typename&&this.state.photoData.__typename==='MessageVideo')return this._getVideo();var j=this._resizer.getImageAndStageDimensions(this.state.photoData),k=this._dimensions.getBestFitImageFromPhoto(this.state.photoData,this.state.maxStageDimensions);return this._getMedia(k,j);}else return null;},getDimensions:function i(){return this._dimensions;},getStageDimensions:function i(){if(this.state.photoData){return this._resizer.getImageAndStageDimensions(this.state.photoData).stageDimensions;}else return c('MercuryConfig').SharedPhotoNewView&&c('CurrentEnvironment').messengerdotcom?this._dimensions.getMaxStageDimensionsWithoutPadding():this._dimensions.getMaxStageDimensions();},getImageDimensions:function i(){if(!this.state.photoData)return null;return this._resizer.getImageAndStageDimensions(this.state.photoData).imageDimensions;},onResize:function i(){if(c('MercuryConfig').SharedPhotoNewView&&c('CurrentEnvironment').messengerdotcom){var j=this._dimensions.getMaxStageDimensionsWithoutPadding();this.setState({maxStageDimensions:j,width:j.x});}else this.setState({maxStageDimensions:this._dimensions.getMaxStageDimensions()});}};f.exports=h;}),null);
__d('SpotlightViewerThumbnailMixin',['PhotoStore','Vector'],(function a(b,c,d,e,f,g){if(c.__markCompiled)c.__markCompiled();var h={_getInitialPhotoData:function i(){var j=c('PhotoStore').getIndexForID(this.props.setid,this.props.photoid),k=c('PhotoStore').getByIndexImmediate(this.props.setid,j);return k?k:this._getThumbnailPhotoData();},_getThumbnailPhotoData:function i(){if(!this.props.dimensions||!this.props.thumbsrc)return null;var j={id:this.props.photoid};for(var k=0;k<this.props.dimensions.length;++k){var l=c('Vector').deserialize(this.props.dimensions[k]);j['image'+k]={width:l.x,height:l.y,uri:this.props.thumbsrc};}return j;}};f.exports=h;}),null);
__d('SpotlightViewerAutoResize',['invariant','Event','SubscriptionsHandler'],(function a(b,c,d,e,f,g,h){if(c.__markCompiled)c.__markCompiled();function i(j){'use strict';this.$SpotlightViewerAutoResize1=j;!(typeof this.$SpotlightViewerAutoResize1.onResize==='function')?h(0):void 0;}i.prototype.enable=function(){'use strict';this.$SpotlightViewerAutoResize2=new (c('SubscriptionsHandler'))();this.$SpotlightViewerAutoResize2.addSubscriptions(c('Event').listen(window,'resize',this.$SpotlightViewerAutoResize1.onResize));};i.prototype.disable=function(){'use strict';this.$SpotlightViewerAutoResize2.release();delete this.$SpotlightViewerAutoResize2;};f.exports=i;}),null);
__d('GraphQLMutationDataHandler',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={getMutationType:function j(k){!(!!k&&Object.keys(k).length===1)?h(0):void 0;return Object.keys(k)[0];}};f.exports=i;}),null);
__d('GraphQLSubscribeModes',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={SUBSCRIBE:'subscribe',UNSUBSCRIBE:'unsubscribe'};f.exports=h;}),null);
__d('GraphQLSubscriptionTracker',[],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();var h={},i={trackSubscription:function j(k,l){h[l]=k;},getSubscription:function j(k){return h[k];},removeSubscription:function j(k){delete h[k];}};f.exports=i;}),null);
__d('RelayGraphQLSubscriptionNetworkLayer',['invariant'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i=void 0,j={injectGraphQLSubscriber:function k(l){i=l;},sendSubscribeRequest:function k(l){!i?h(0):void 0;i.sendSubscribeRequest(l);}};f.exports=j;}),null);
__d('RQLSubscription',['invariant','GraphQLMutationDataHandler','GraphQLSubscribeModes','GraphQLSubscriptionTracker','RelayGraphQLSubscriptionNetworkLayer'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();var i={sendSubscribe:function j(k,l,m,n,o){c('RelayGraphQLSubscriptionNetworkLayer').sendSubscribeRequest({mode:c('GraphQLSubscribeModes').SUBSCRIBE,subscription:k,subscriptionQueryID:n,params:l,clientSubscriptionID:m,topic:o});},sendUnsubscribe:function j(k,l,m,n,o){c('RelayGraphQLSubscriptionNetworkLayer').sendSubscribeRequest({mode:c('GraphQLSubscribeModes').UNSUBSCRIBE,subscription:k,subscriptionQueryID:n,params:l,clientSubscriptionID:m,topic:o});},handleSubscriptionPayload:function j(k){var l=c('GraphQLMutationDataHandler').getMutationType(k);!k[l]?h(0):void 0;var m='client_subscription_id' in k[l];if(!m)return;var n=k[l].client_subscription_id;!n?h(0):void 0;var o=c('GraphQLSubscriptionTracker').getSubscription(n);if(o)o.handlePayload(k);}};f.exports=i;}),null);
__d('GraphQLSubscription',['invariant','ClientIDs','GraphQLMutationDataHandler','GraphQLMutatorHub','GraphQLSubscriptionTracker','RQLSubscription','RelayMetaRoute','RelayQuery','RelayStore','nullthrows'],(function a(b,c,d,e,f,g,h){'use strict';if(c.__markCompiled)c.__markCompiled();function i(j,k){this.clientSubscriptionID=c('ClientIDs').getNewClientID();this.$GraphQLSubscription1=this.constructor.getSubscriptionQuery();this.$GraphQLSubscription2=this.constructor.getSubscriptionQueryID();this.$GraphQLSubscription3=this.getQueryParams(j);this.$GraphQLSubscription4=k;this.$GraphQLSubscription5=this.getSubscriptionTopic(this.$GraphQLSubscription3);!(this.$GraphQLSubscription1&&this.$GraphQLSubscription3)?h(0):void 0;c('RQLSubscription').sendSubscribe(this.$GraphQLSubscription1,this.$GraphQLSubscription3,this.clientSubscriptionID,this.$GraphQLSubscription2,this.$GraphQLSubscription5);c('GraphQLSubscriptionTracker').trackSubscription(this,this.clientSubscriptionID);this.$GraphQLSubscription6=true;}i.prototype.dispose=function(){!this.$GraphQLSubscription6?h(0):void 0;c('RQLSubscription').sendUnsubscribe(this.$GraphQLSubscription1,this.$GraphQLSubscription3,this.clientSubscriptionID,this.$GraphQLSubscription2,this.$GraphQLSubscription5);c('GraphQLSubscriptionTracker').removeSubscription(this.clientSubscriptionID);this.$GraphQLSubscription6=false;};i.getSubscriptionQuery=function(){throw new Error('Must implement `getSubscriptionQuery.`');};i.getSubscriptionQueryID=function(){return null;};i.prototype.getSubscriptionTopic=function(){if(!this.constructor.getInputFieldsThatDetermineTopic)return null;return ['gqls',this.$GraphQLSubscription1.calls[0].name,this.constructor.getInputFieldsThatDetermineTopic().sort().map(function(j){return (String(j)+'_'+String(c('nullthrows')(this.$GraphQLSubscription3[j])));}.bind(this)).join('_')].join('/');};i.prototype.getQueryParams=function(j){throw new Error('Must implement `getQueryParams.`');};i.prototype.handlePayload=function(j){!this.$GraphQLSubscription6?h(0):void 0;var k=c('GraphQLMutationDataHandler').getMutationType(j),l=j[k];c('RelayStore').getStoreData().handleUpdatePayload(c('RelayQuery').Subscription.create(this.$GraphQLSubscription1,c('RelayMetaRoute').get('$GraphQLSubscription'),{input:this.$GraphQLSubscription3}),l,{configs:c('GraphQLMutatorHub').getConfigs(k)||[],isOptimisticUpdate:false});this.$GraphQLSubscription4&&this.$GraphQLSubscription4(j);};f.exports=i;}),null);
__d('RelayGraphQLSubscriber',['Promise','ChannelManager','CSRFGuard','CurrentLocale','CurrentUser','GraphQLSubscribeModes','GraphQLSubscriptionsLoggerEvent','GraphQLSubscriptionsMechanism','GraphQLSubscriptionsTypedLogger','RelayMetaRoute','RelayQuery','RQLSubscription','RTISubscriptionManager','URI','XHRRequest','flattenRelayQuery','getAsyncParams','getCrossOriginTransport','nullthrows','printRelayQuery'],(function a(b,c,d,e,f,g){'use strict';if(c.__markCompiled)c.__markCompiled();c('ChannelManager');var h={},i=155160167952447;function j(k){return {sendSubscribeRequest:function l(m){var n=void 0,o=this._prepareData(m);if(m.mode===c('GraphQLSubscribeModes').SUBSCRIBE){n=this._getTopicAndTransformContext(o).then(function(p){var q=p.topic,r=p.transformContext;o.topic=q;r.appID=i;return this._subscribe(o,r);}.bind(this));}else if(m.mode===c('GraphQLSubscribeModes').UNSUBSCRIBE){n=this._unsubscribe(o);}else n=c('Promise').reject('invalid mode');n['catch'](function(p){return false;});},_prepareData:function l(m){var n={input:JSON.stringify(babelHelpers['extends']({},m.params,{client_subscription_id:m.clientSubscriptionID}))},o=c('RelayQuery').Subscription.create(m.subscription,c('RelayMetaRoute').get('$GraphQLSubscriber'),n),p=c('printRelayQuery')(c('nullthrows')(c('flattenRelayQuery')(o))).text;return {queryText:p,queryID:m.subscriptionQueryID!=null?Number(m.subscriptionQueryID):null,queryParams:{input:babelHelpers['extends']({},m.params,{client_subscription_id:m.clientSubscriptionID})},topic:null,tokenKey:JSON.stringify({params:m.params,text:p}),logger:new (c('GraphQLSubscriptionsTypedLogger'))().setSubscriptionCall(o.getCall().name).setQueryParams(n).setMechanism(c('GraphQLSubscriptionsMechanism').SKYWALKER)};},_getTopicAndTransformContext:function l(m){var n=m.queryText,o=m.queryID,p=m.queryParams,q=m.topic;if(o!==null&&q!=null){var r={locale:c('CurrentLocale').get(),queryID:o,serializedQueryParameters:JSON.stringify(p),viewerID:c('CurrentUser').getID()};return c('Promise').resolve({topic:q,transformContext:r});}return new (c('Promise'))(function(s){var t=new (c('XHRRequest'))(k).setTransportBuilder(c('getCrossOriginTransport').withCredentials).setMethod('POST').setData(babelHelpers['extends']({query:n,query_params:JSON.stringify(p)},c('getAsyncParams')('POST'))).setResponseHandler(function(u){var v=JSON.parse(c('CSRFGuard').clean(u));s({topic:v.payload.topic,transformContext:JSON.parse(v.payload.transform_context)});});t.send();});},_subscribe:function l(m,n){var o=m.topic,p=m.tokenKey,q=m.logger;return new (c('Promise'))(function(r){h[p]=c('RTISubscriptionManager').subscribe(c('nullthrows')(o),function(s){var t=JSON.parse(s.payload);q.setEvent(c('GraphQLSubscriptionsLoggerEvent').RECEIVEPAYLOAD).log();c('RQLSubscription').handleSubscriptionPayload(t);},{transformContext:JSON.stringify(n)});q.setEvent(c('GraphQLSubscriptionsLoggerEvent').CLIENT_SUBSCRIBE).log();r();});},_unsubscribe:function l(m){var n=m.tokenKey,o=m.logger;return new (c('Promise'))(function(p){h[n].unsubscribe();delete h[n];o.setEvent(c('GraphQLSubscriptionsLoggerEvent').CLIENT_UNSUBSCRIBE).log();p();});}};}f.exports=j;}),null);
__d("XDliteGraphQLSkywalkerController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/dlite\/skywalker_topic\/",{});}),null);