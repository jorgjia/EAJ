if (self.CavalryLogger) { CavalryLogger.start_js(["KbLHj"]); }

__d('UFIReactionsStandalone.react',['React','UFICentralUpdates','UFIConstants','UFIDispatcher','UFIDispatcherContext.react','UFIFeedbackContext.react','UFIReactionsLinkImpl.react','UFIReactionStore'],(function a(b,c,d,e,f,g){'use strict';var h,i;if(c.__markCompiled)c.__markCompiled();h=babelHelpers.inherits(j,c('React').Component);i=h&&h.prototype;j.prototype.componentWillMount=function(){this.$UFIReactionsStandalone1=new (c('UFIDispatcher'))();this.$UFIReactionsStandalone2={UFIReactionStore:new (c('UFIReactionStore'))(this.$UFIReactionsStandalone1)};c('UFICentralUpdates').handleUpdate(c('UFIConstants').UFIPayloadSourceType.INITIAL_SERVER,this.props.payload);};j.prototype.componentWillUnmount=function(){this.$UFIReactionsStandalone2={};this.$UFIReactionsStandalone1=null;};j.prototype.render=function(){return (c('React').createElement(c('UFIDispatcherContext.react'),{dispatcher:this.$UFIReactionsStandalone1,stores:this.$UFIReactionsStandalone2},c('React').createElement(c('UFIFeedbackContext.react'),{contextArgs:this.props.contextArgs,render:function k(l,m){return (c('React').createElement(c('UFIReactionsLinkImpl.react'),{contextArgs:l,nuxConfig:l.reactionsNuxConfig,reaction:m.viewerreaction,supportedReactions:m.supportedreactions}));}})));};function j(){h.apply(this,arguments);}f.exports=j;}),null);
__d('VideoChannelEndScreen',['cx','invariant','CSS','DOM','Event','React','ReactDOM','VideoChannelProgressCircle.react','VideoChannelReplayImage.react'],(function a(b,c,d,e,f,g,h,i){if(c.__markCompiled)c.__markCompiled();function j(k,l){'use strict';this.$VideoChannelEndScreen1=c('DOM').create('div',{className:"_1szy"});this.$VideoChannelEndScreen2=c('DOM').create('div',{className:"_1szz _2se8"},this.$VideoChannelEndScreen1);this.$VideoChannelEndScreen3=l;c('Event').listen(this.$VideoChannelEndScreen1,'click',k);}j.prototype.showEndScreen=function(k,l,m){'use strict';!k?i(0):void 0;c('CSS').addClass(k,"_1s-2");k.appendChild(this.$VideoChannelEndScreen2);c('ReactDOM').render(c('React').createElement(c('VideoChannelProgressCircle.react'),{makeProgress:l,onProgressDone:m,timeoutSec:j.TIMEOUT},c('React').createElement(c('VideoChannelReplayImage.react'),null)),this.$VideoChannelEndScreen1);};j.prototype.endCountdown=function(k){'use strict';!k?i(0):void 0;this.$VideoChannelEndScreen3&&this.$VideoChannelEndScreen3();c('CSS').removeClass(k,"_1s-2");c('ReactDOM').unmountComponentAtNode(this.$VideoChannelEndScreen1);};j.prototype.getContainer=function(){'use strict';return this.$VideoChannelEndScreen2;};j.TIMEOUT=3;f.exports=j;}),null);
__d('VideoChannelUpNextUnit.react',['csx','cx','DOM','Link.react','React','getElementText'],(function a(b,c,d,e,f,g,h,i){var j,k;if(c.__markCompiled)c.__markCompiled();var l=c('React').PropTypes,m=320;j=babelHelpers.inherits(n,c('React').PureComponent);k=j&&j.prototype;n.prototype.render=function(){'use strict';var o=this.props.thumbnail,p=c('DOM').find(o,"._56dc"),q=c('DOM').find(o,"._38a4"),r=p.style.backgroundImage,s=c('getElementText')(q),t={backgroundImage:r},u=(this.props.dialogWidth-m)/2,v={marginLeft:u+'px'};return (c('React').createElement(c('Link.react'),{className:"_4fxr",href:'#',onClick:this.props.onClick,style:v},c('React').createElement('div',{className:"_4fxs",style:t}),c('React').createElement('div',{className:"_4fxt"},c('React').createElement('div',{className:"_4fxu"},'Up Next:'),c('React').createElement('div',{className:"_4fxw"},s))));};function n(){'use strict';j.apply(this,arguments);}n.propTypes={dialogWidth:l.number.isRequired,onClick:l.func.isRequired,thumbnail:l.object.isRequired};f.exports=n;}),null);
__d("XVideoChannelViewDetailsAsyncController",["XController"],(function a(b,c,d,e,f,g){c.__markCompiled&&c.__markCompiled();f.exports=c("XController").create("\/video\/channel\/view\/details\/async\/{video_id}\/",{ad_impression_token:{type:"String"},video_id:{type:"Int",required:true},caller:{type:"Enum",defaultValue:"channel_view_from_unknown",enumType:1}});}),null);
__d('VideoChannelInteraction',['csx','cx','fbt','invariant','Animation','Arbiter','AsyncRequest','CSS','DOM','Event','Keys','Map','Parent','React','ReactDOM','StreamingReactionsTrayEvents','Style','SubscriptionsHandler','UFIRootRegistry','UFIUIEvents','VideoChannelController','VideoChannelEndScreen','VideoChannelLogger','VideoChannelLoggerEvents','VideoChannelLoggerEventTargets','VideoChannelLoggerFields','VideoChannelUpNextUnit.react','VideoChannelViewVariables','VideoPlayerAbortLoadingExperiment','VideoPlayerController','VideoPlayerReason','VideoStripThumbnailCarousel.react','VideoWatchAndScrollController','XVideoChannelViewDetailsAsyncController','setImmediate'],(function a(b,c,d,e,f,g,h,i,j,k){if(c.__markCompiled)c.__markCompiled();var l=5000,m=175,n=45,o=80,p=24,q=c('VideoChannelViewVariables').thumbnailRedesign,r=c('VideoChannelViewVariables').videoRedesign,s=c('VideoChannelViewVariables').dynamicAspectRatios,t=c('VideoChannelViewVariables').preopenUFI,u={},v=16/9,w=v;function x(y){'use strict';this.$VideoChannelInteraction6=y;this.$VideoChannelInteraction1=false;this.$VideoChannelInteraction3=0;this.$VideoChannelInteraction4=0;this.$VideoChannelInteraction13=[];this.$VideoChannelInteraction25=null;this.$VideoChannelInteraction26=[];this.$VideoChannelInteraction15=false;this.$VideoChannelInteraction23=false;this.$VideoChannelInteraction16=new (c('Map'))();this.$VideoChannelInteraction17=new (c('Map'))();this.$VideoChannelInteraction27=false;this.$VideoChannelInteraction28=false;this.$VideoChannelInteraction29=false;this.$VideoChannelInteraction35=false;this.$VideoChannelInteraction37=false;this.$VideoChannelInteraction5=new (c('SubscriptionsHandler'))();this.$VideoChannelInteraction7=c('DOM').create('a',{href:'#',className:"_5yhq",'aria-label':j._("Next Video")});this.$VideoChannelInteraction8=c('DOM').create('a',{href:'#',className:"_5yhr",'aria-label':j._("Previous Video")});this.$VideoChannelInteraction30=new (c('VideoChannelEndScreen'))(function(){this.$VideoChannelInteraction38();this.getVideoController().play(c('VideoPlayerReason').USER);}.bind(this));this.$VideoChannelInteraction39();this.$VideoChannelInteraction5.addSubscriptions(c('Event').listen(document,'mousemove',this.$VideoChannelInteraction40.bind(this)),c('Event').listen(document,'click',this.$VideoChannelInteraction40.bind(this)),c('Event').listen(document,'keydown',this.$VideoChannelInteraction41.bind(this)),c('Event').listen(document,'keyup',this.$VideoChannelInteraction42.bind(this)),c('Event').listen(this.$VideoChannelInteraction7,'click',this.$VideoChannelInteraction43.bind(this)),c('Event').listen(this.$VideoChannelInteraction8,'click',this.$VideoChannelInteraction44.bind(this)),c('Arbiter').subscribe(c('UFIUIEvents').AutoplayLiveComments,function(z,aa){var ba=aa.form,ca=c('DOM').scry(this.$VideoChannelInteraction9.children[this.getCurrentAbsoluteIndex()],"._sa_"),da=ca[0],ea=c('DOM').scry(ba,".fbPhotosSnowliftFeedback"),fa=ea[0];if(!fa||!da||!ba.contains(da))return;new (c('Animation'))(fa).to('scrollTop',da.offsetTop).ease(c('Animation').ease.end).duration(250).go();}.bind(this)),c('Arbiter').subscribe('comment_content_change',function(z,aa){if(aa.text!==undefined){this.$VideoChannelInteraction35=aa.text!=='';}else if(aa.addingAttachment!==undefined)this.$VideoChannelInteraction37=aa.addingAttachment;this.$VideoChannelInteraction45();}.bind(this)),c('Arbiter').subscribe('video_upload_cancel',function(){this.$VideoChannelInteraction37=false;this.$VideoChannelInteraction45();}.bind(this)));this.$VideoChannelInteraction46();this.$VideoChannelInteraction47();}x.prototype.$VideoChannelInteraction47=function(){'use strict';this.$VideoChannelInteraction19=0;this.$VideoChannelInteraction20=false;this.$VideoChannelInteraction5.addSubscriptions(c('Arbiter').subscribe('layer_shown',function(y,z){if(z.type==='DialogX'||z.type==='PhotoSnowlift'){this.$VideoChannelInteraction19=this.$VideoChannelInteraction19+1;if(this.$VideoChannelInteraction19>0){var aa=this.getVideoController();if(aa.isState('playing')){aa.pause(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoChannelInteraction20=true;}}this.$VideoChannelInteraction45();}}.bind(this)),c('Arbiter').subscribe('layer_hidden',function(y,z){if(z.type==='DialogX'||z.type==='PhotoSnowlift'){this.$VideoChannelInteraction19=this.$VideoChannelInteraction19-1;if(this.$VideoChannelInteraction19===0&&this.$VideoChannelInteraction20){var aa=this.getVideoController();aa.play(c('VideoPlayerReason').PAGE_VISIBILITY);this.$VideoChannelInteraction20=false;}this.$VideoChannelInteraction45();}}.bind(this)));};x.prototype.onChannelClose=function(){'use strict';this.$VideoChannelInteraction36&&this.$VideoChannelInteraction48(this.$VideoChannelInteraction36,false);c('CSS').hide(this.$VideoChannelInteraction8);c('CSS').hide(this.$VideoChannelInteraction7);this.$VideoChannelInteraction5&&this.$VideoChannelInteraction5.release();this.$VideoChannelInteraction18&&this.$VideoChannelInteraction18.abandon();clearTimeout(this.$VideoChannelInteraction2);this.$VideoChannelInteraction38();this.$VideoChannelInteraction35=false;this.$VideoChannelInteraction37=false;c('UFIRootRegistry').cleanupSnowliftNodes();w=v;};x.prototype.onWindowResize=function(){'use strict';if(s)this.$VideoChannelInteraction49();this.$VideoChannelInteraction46();this.$VideoChannelInteraction50();this.$VideoChannelInteraction51(0);};x.prototype.$VideoChannelInteraction50=function(){'use strict';if(this.$VideoChannelInteraction33&&this.$VideoChannelInteraction32){var y=this.$VideoChannelInteraction6.getVideoHeight()*this.$VideoChannelInteraction33,z=this.$VideoChannelInteraction6.getVideoWidth(),aa=z-y,ba=aa/2;c('Style').set(this.$VideoChannelInteraction32,'width',this.$VideoChannelInteraction34*n+ba+'px');c('Style').set(this.$VideoChannelInteraction32,'margin-top',o+'px');}};x.prototype.$VideoChannelInteraction46=function(){'use strict';var y=this.$VideoChannelInteraction9,z=false;if(r)try{var ba=this.getVideoControllerForStory(y.children[this.getCurrentAbsoluteIndex()]);if(ba){var ca=ba.getOption('VideoWithLiveBroadcast','isLive');if(ca)z=true;}}catch(aa){}var da=(this.$VideoChannelInteraction6.getAvailableWidth()-this.$VideoChannelInteraction6.getVideoWidth())/2;da+=this.$VideoChannelInteraction12?-1*m:0;c('Style').set(y,'left',da+'px');var ea=(this.$VideoChannelInteraction6.getAvailableHeight()-this.$VideoChannelInteraction6.getVideoHeight()-(z?o:0))/2;c('Style').set(y,'top',ea+'px');c('Style').set(y,'width',this.$VideoChannelInteraction6.getVideoWidth()+'px');c('Style').set(y,'height',this.$VideoChannelInteraction6.getVideoHeight()+'px');};x.prototype.isCenterVideoActive=function(){'use strict';return this.$VideoChannelInteraction3===0;};x.prototype.getCurrentAbsoluteIndex=function(){'use strict';return this.$VideoChannelInteraction3+this.$VideoChannelInteraction4;};x.prototype.$VideoChannelInteraction52=function(y){'use strict';return y+this.$VideoChannelInteraction4;};x.prototype.$VideoChannelInteraction53=function(y){'use strict';return y-this.$VideoChannelInteraction4;};x.prototype.$VideoChannelInteraction54=function(){'use strict';return this.$VideoChannelInteraction6.getDialog();};x.prototype.$VideoChannelInteraction55=function(){'use strict';return this.$VideoChannelInteraction6.getDialogContent();};x.prototype.setTitle=function(y,z){'use strict';if(!q||!r)c('DOM').setContent(this.$VideoChannelInteraction11,y);if(z){var aa=this.$VideoChannelInteraction56(),ba=aa.currentStory,ca=aa.currentThumbnail;!ba?k(0):void 0;!ca?k(0):void 0;this.setFirstStory(ba,ca,true,true);}};x.prototype.$VideoChannelInteraction56=function(){'use strict';var y=this.$VideoChannelInteraction6.getStoryFetcher(),z=y.getPreloadedData(),aa=z.stories,ba=z.thumbnails;aa=aa||[];ba=ba||[];var ca=this.$VideoChannelInteraction6.getWnsChannelVideoIndex();if(ca===0)return {currentStory:null,currentThumbnail:null,prependStories:[],prependThumbnails:[],appendStories:aa,appendThumbnails:ba};ca--;return {currentStory:aa[ca],currentThumbnail:ba[ca],prependStories:aa.slice(0,ca),prependThumbnails:ba.slice(0,ca),appendStories:aa.slice(ca+1),appendThumbnails:ba.slice(ca+1)};};x.prototype.$VideoChannelInteraction57=function(y){'use strict';var z={};z[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').CLICK;z[c('VideoChannelLoggerFields').STORY_ID]=y.getAttribute('data-story-id');c('VideoChannelLogger').log(z);};x.prototype.$VideoChannelInteraction58=function(y){'use strict';this.updateActiveStory(this.$VideoChannelInteraction52(y),c('VideoPlayerReason').USER);};x.prototype.$VideoChannelInteraction59=function(y){'use strict';var z={};z[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').CLICK;z[c('VideoChannelLoggerFields').EVENT_TARGET]=y;c('VideoChannelLogger').log(z);};x.prototype.$VideoChannelInteraction43=function(event){'use strict';this.$VideoChannelInteraction59(c('VideoChannelLoggerEventTargets').NEXT_ARROW);this.$VideoChannelInteraction60();this.$VideoChannelInteraction40();event.stopPropagation();event.preventDefault();};x.prototype.$VideoChannelInteraction60=function(){'use strict';var y=this.getCurrentAbsoluteIndex();if(y<this.$VideoChannelInteraction9.children.length-1){this.updateActiveStory(y+1,c('VideoPlayerReason').AUTOPLAY);return true;}return false;};x.prototype.$VideoChannelInteraction44=function(event){'use strict';this.$VideoChannelInteraction59(c('VideoChannelLoggerEventTargets').PREVIOUS_ARROW);this.$VideoChannelInteraction61();this.$VideoChannelInteraction40();event.stopPropagation();event.preventDefault();};x.prototype.$VideoChannelInteraction61=function(){'use strict';var y=this.getCurrentAbsoluteIndex();if(y>=1){this.updateActiveStory(y-1,c('VideoPlayerReason').AUTOPLAY);return true;}return false;};x.prototype.updateActiveStory=function(y,z){'use strict';var aa=this.getCurrentAbsoluteIndex();if(aa===y)return;var ba=this.$VideoChannelInteraction9,ca=this.getVideoControllerForStory(ba.children[aa]),da=ca&&ca.isMuted();if(ca&&!ca.isState('finished')){ca.pause(c('VideoPlayerReason').USER);if(c('VideoPlayerAbortLoadingExperiment').canAbort)ca.abortLoading();}var ea=ba.children[y],fa=this.getVideoControllerForStory(ea);if(fa){c('Arbiter').inform('VideoChannelView/activeStoryChanged',{id:fa.getVideoID()});if(fa.isAd()){c('Arbiter').inform('WebVideoChannelAds/AdsLoaded');z=c('VideoPlayerReason').AUTOPLAY;}if(da&&!fa.isMuted()){fa.mute();}else if(!da&&fa.isMuted())fa.unmute();fa.play(z);}var ga=null;if(ba.children.length>y+1){ga=this.getVideoControllerForStory(ba.children[y+1]);if(ga)ga.preload();}this.$VideoChannelInteraction3=this.$VideoChannelInteraction53(y);c('VideoChannelLogger').setPosition(this.$VideoChannelInteraction3);if(!ea.getAttribute('channel-vpv-logged')){var ha={};ea.setAttribute('channel-vpv-logged','1');ha[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').VPV;ha[c('VideoChannelLoggerFields').STORY_ID]=ea.getAttribute('data-story-id');ha[c('VideoChannelLoggerFields').IS_AD]=fa?fa.isAd():false;c('VideoChannelLogger').log(ha);}this.$VideoChannelInteraction35=false;this.$VideoChannelInteraction37=false;this.$VideoChannelInteraction48(ea,true);this.$VideoChannelInteraction62();};x.prototype.$VideoChannelInteraction62=function(){'use strict';var y=this.$VideoChannelInteraction9,z=this.getCurrentAbsoluteIndex();if(z>0){c('CSS').show(this.$VideoChannelInteraction8);}else c('CSS').hide(this.$VideoChannelInteraction8);for(var aa=0;aa<y.children.length;aa++){var ba=aa===z;c('CSS').conditionClass(y.children[aa],"_1kfp",ba);c('CSS').conditionClass(this.$VideoChannelInteraction13[aa],"_57j4",ba);}this.$VideoChannelInteraction24=c('DOM').find(y.children[z],"._21mb");this.$VideoChannelInteraction24.insertBefore(this.$VideoChannelInteraction8,this.$VideoChannelInteraction24.firstChild);this.$VideoChannelInteraction24.appendChild(this.$VideoChannelInteraction7);if(s)this.$VideoChannelInteraction49();if(z<y.children.length-1||this.$VideoChannelInteraction6.hasNext()){c('CSS').show(this.$VideoChannelInteraction7);}else c('CSS').hide(this.$VideoChannelInteraction7);this.$VideoChannelInteraction51(0);var ca=this.$VideoChannelInteraction6.getStoryFetcher(),da=ca?ca.getPreloadedData():{stories:[]},ea=da.stories,fa=this.$VideoChannelInteraction6.isCameFromVidewViewCarousel();if(z>=y.children.length-2&&this.$VideoChannelInteraction6.hasNext()){this.$VideoChannelInteraction63();}else if(z===0&&(ea.length===0||fa))this.$VideoChannelInteraction6.fetchStories(false,function(ga,ha){this.prependStories(ga,ha);}.bind(this),function(ga){this.showThumbnailPlaceholders(ga,false);}.bind(this));if(this.$VideoChannelInteraction12)this.$VideoChannelInteraction64(this.$VideoChannelInteraction9.children[z],this.getVideoController().getVideoID(),this.getVideoController().getAdClientToken());this.$VideoChannelInteraction6.getViewportTracker().fireTimer();this.$VideoChannelInteraction6.getViewportTracker().updateTimeTrackingData(false,'scroll');};x.prototype.$VideoChannelInteraction49=function(){'use strict';if(!this.$VideoChannelInteraction17.size)return;var y=u[this.getVideoController().getVideoID()]||v;w=y;var z=this.$VideoChannelInteraction6.getAvailableVideoHeight(),aa=this.$VideoChannelInteraction6.getAvailableVideoWidth(),ba=0,ca=0;if(w*z>aa){ca=aa;ba=aa/w;}else{ba=z;ca=z*w;}this.$VideoChannelInteraction6.setVideoDimensions(ca,ba,this.$VideoChannelInteraction6.getExtraThumbnailHeight());this.$VideoChannelInteraction46();this.$VideoChannelInteraction50();};x.prototype.showThumbnailPlaceholders=function(y,z){'use strict';var aa=z?0:y;this.$VideoChannelInteraction51(aa);};x.prototype.$VideoChannelInteraction40=function(){'use strict';this.$VideoChannelInteraction65();this.$VideoChannelInteraction2=setTimeout(this.$VideoChannelInteraction66.bind(this),l);};x.prototype.$VideoChannelInteraction42=function(y){'use strict';if(y.keyCode===c('Keys').RIGHT){this.$VideoChannelInteraction28=false;}else if(y.keyCode===c('Keys').LEFT)this.$VideoChannelInteraction29=false;};x.prototype.$VideoChannelInteraction41=function(y){'use strict';this.$VideoChannelInteraction65();this.$VideoChannelInteraction2=setTimeout(this.$VideoChannelInteraction66.bind(this),l);var z=c('CSS').matchesSelector(y.target,"._gn2"),aa=this.$VideoChannelInteraction12&&(c('CSS').matchesSelector(y.target,"._5rpu")||c('CSS').hasClass(y.target,'UFIAddCommentInput')),ba=c('CSS').matchesSelector(y.target,"._iuw");if(z||aa||ba||this.$VideoChannelInteraction19>0||this.getVideoController().isFullscreen())return;if(y.keyCode===c('Keys').RIGHT&&!this.$VideoChannelInteraction28){this.$VideoChannelInteraction28=true;this.$VideoChannelInteraction59(c('VideoChannelLoggerEventTargets').NEXT_ARROW_KEY);this.$VideoChannelInteraction60();event.preventDefault();}else if(y.keyCode===c('Keys').LEFT&&!this.$VideoChannelInteraction29){this.$VideoChannelInteraction29=true;this.$VideoChannelInteraction59(c('VideoChannelLoggerEventTargets').PREVIOUS_ARROW_KEY);this.$VideoChannelInteraction61();event.preventDefault();}else if(y.keyCode===c('Keys').SPACE){var ca=this.getVideoController();if(ca.isState('playing')){ca.pause(c('VideoPlayerReason').USER);}else if(ca.isState('paused')||ca.isState('finished')||ca.isState('ready'))ca.play(c('VideoPlayerReason').USER);}};x.prototype.$VideoChannelInteraction66=function(){'use strict';if(!this.getVideoController().isState('playing'))return;if(!this.$VideoChannelInteraction1&&c('VideoChannelViewVariables').dark_mode){this.$VideoChannelInteraction1=true;c('CSS').addClass(this.$VideoChannelInteraction54().getRoot(),"_1kf_");}};x.prototype.$VideoChannelInteraction65=function(){'use strict';clearTimeout(this.$VideoChannelInteraction2);if(this.$VideoChannelInteraction1){this.$VideoChannelInteraction1=false;c('CSS').removeClass(this.$VideoChannelInteraction54().getRoot(),"_1kf_");}};x.prototype.$VideoChannelInteraction39=function(){'use strict';var y=this.$VideoChannelInteraction55();this.$VideoChannelInteraction9=c('DOM').create('div',{className:"_1kfk"});c('DOM').appendContent(y,this.$VideoChannelInteraction9);this.$VideoChannelInteraction21=c('DOM').create('div');c('ReactDOM').render(c('React').createElement('div',{className:q?"_4hvx":''},c('React').createElement('div',{className:"_r7b"},c('React').createElement('div',{className:"_5g7c"}),c('React').createElement('div',{className:"_r7d"})),c('React').createElement('div',{className:"_1sz-"})),this.$VideoChannelInteraction21);c('DOM').appendContent(y,this.$VideoChannelInteraction21);this.$VideoChannelInteraction11=c('DOM').find(this.$VideoChannelInteraction54().getInnerContent(),"._5g7c");this.$VideoChannelInteraction10=c('DOM').find(this.$VideoChannelInteraction54().getInnerContent(),"._r7d");this.$VideoChannelInteraction22=c('DOM').find(this.$VideoChannelInteraction21,"._1sz-");};x.prototype.$VideoChannelInteraction67=function(){'use strict';this.$VideoChannelInteraction59(c('VideoChannelLoggerEventTargets').UP_NEXT);this.$VideoChannelInteraction60();};x.prototype.$VideoChannelInteraction68=function(y){'use strict';var z=this.getCurrentAbsoluteIndex();if(!this.$VideoChannelInteraction15&&this.$VideoChannelInteraction13.length>z+1&&y===this.getVideoController()){var aa=this.$VideoChannelInteraction13[z+1];if(aa){c('ReactDOM').render(c('React').createElement(c('VideoChannelUpNextUnit.react'),{dialogWidth:this.$VideoChannelInteraction6.getAvailableWidth(),onClick:this.$VideoChannelInteraction67.bind(this),thumbnail:aa}),this.$VideoChannelInteraction22);c('CSS').addClass(this.$VideoChannelInteraction21,"_1sz_");this.$VideoChannelInteraction23=true;}}};x.prototype.$VideoChannelInteraction69=function(){'use strict';c('CSS').removeClass(this.$VideoChannelInteraction21,"_1sz_");this.$VideoChannelInteraction23=false;};x.prototype.$VideoChannelInteraction70=function(y){'use strict';this.$VideoChannelInteraction5.addSubscriptions(y.addListener('updateStatus',function(z){if(z.position!==undefined){var aa=y.getPlaybackDuration();if(y===this.getVideoController()&&aa&&aa-z.position<5){if(!this.$VideoChannelInteraction23)this.$VideoChannelInteraction68(y);}else this.$VideoChannelInteraction69();}}.bind(this)));};x.prototype.$VideoChannelInteraction71=function(y){'use strict';this.$VideoChannelInteraction5.addSubscriptions(y.addListener('beginPlayback',this.$VideoChannelInteraction38.bind(this)),y.addListener('finishPlayback',function(){var z=this.$VideoChannelInteraction6.isOpen()&&y===this.getVideoController()&&!y.isFullscreen();if(z)this.$VideoChannelInteraction45();}.bind(this)));};x.prototype.$VideoChannelInteraction45=function(){'use strict';var y=this.getVideoController();if(y.isState('finished')){var z=this.getCurrentAbsoluteIndex(),aa=z===this.$VideoChannelInteraction9.children.length-1,ba=this.$VideoChannelInteraction35||this.$VideoChannelInteraction37,ca=y.getOption('VideoWithLiveBroadcast','isLive'),da=true;if(c('VideoChannelViewVariables').autoplaySettingDisabled||aa||!r&&!q&&(!t||ba)&&this.$VideoChannelInteraction12||this.$VideoChannelInteraction27||this.$VideoChannelInteraction19!=0||ca)da=false;if(y.getOption('VideoLiveEndscreen','enabled')){if(da)this.$VideoChannelInteraction31=setTimeout(this.$VideoChannelInteraction72.bind(this),c('VideoChannelEndScreen').TIMEOUT*1000);return;}this.$VideoChannelInteraction73(da);}};x.prototype.$VideoChannelInteraction73=function(y){'use strict';this.$VideoChannelInteraction65();this.$VideoChannelInteraction30.showEndScreen(this.$VideoChannelInteraction24,y,this.$VideoChannelInteraction72.bind(this));};x.prototype.$VideoChannelInteraction38=function(){'use strict';if(this.$VideoChannelInteraction31){clearTimeout(this.$VideoChannelInteraction31);this.$VideoChannelInteraction31=null;}this.$VideoChannelInteraction30.endCountdown(this.$VideoChannelInteraction24);};x.prototype.$VideoChannelInteraction72=function(){'use strict';if(this.getVideoController().isState('finished')){this.$VideoChannelInteraction38();if(this.$VideoChannelInteraction60()){var y={};y[c('VideoChannelLoggerFields').EVENT]=c('VideoChannelLoggerEvents').AUTO_ADVANCE;y[c('VideoChannelLoggerFields').POSITION_IN_CHANNEL]=this.getCurrentAbsoluteIndex()-1;c('VideoChannelLogger').log(y);}}};x.prototype.$VideoChannelInteraction51=function(y){'use strict';var z=this.$VideoChannelInteraction6.getAvailableWidth();if(q)z-=p;c('ReactDOM').render(c('React').createElement(c('VideoStripThumbnailCarousel.react'),{dialogWidth:z,extraThumbnailHeight:this.$VideoChannelInteraction6.getExtraThumbnailHeight(),pendingPreviousThumbnails:y,thumbnails:this.$VideoChannelInteraction13.slice(0),index:this.getCurrentAbsoluteIndex(),hasNext:this.$VideoChannelInteraction6.hasNext(),loadNextItems:this.$VideoChannelInteraction63.bind(this)}),this.$VideoChannelInteraction10);};x.prototype.$VideoChannelInteraction63=function(){'use strict';this.$VideoChannelInteraction6.fetchStories(true,function(y,z){this.appendStories(y,z);}.bind(this));};x.prototype.getVideoController=function(){'use strict';var y=this.$VideoChannelInteraction9.children[this.getCurrentAbsoluteIndex()],z=this.getVideoControllerForStory(y);!z?k(0):void 0;return z;};x.prototype.$VideoChannelInteraction74=function(y,z,aa){'use strict';var ba=void 0;if(!aa){this.$VideoChannelInteraction4++;ba=-this.$VideoChannelInteraction4;this.$VideoChannelInteraction9.insertBefore(y,this.$VideoChannelInteraction9.childNodes[0]);this.$VideoChannelInteraction13.unshift(z);}else{ba=this.$VideoChannelInteraction9.children.length-this.$VideoChannelInteraction4;this.$VideoChannelInteraction9.appendChild(y);this.$VideoChannelInteraction13.push(z);}this.$VideoChannelInteraction5.addSubscriptions(c('Event').listen(y,'click',this.$VideoChannelInteraction57.bind(this,y)),c('Event').listen(z,'click',function(da,event){if(c('Parent').bySelector(event.target,"._4hvy"))return;if(this.$VideoChannelInteraction15){this.$VideoChannelInteraction59(c('VideoChannelLoggerEventTargets').THUMBNAIL);this.$VideoChannelInteraction58(da);event.preventDefault();}}.bind(this,ba)));if(!this.$VideoChannelInteraction17.has(y.id)){var ca=this.$VideoChannelInteraction6.findVideoControllerForStory(y);if(ca){this.$VideoChannelInteraction16.set(ca,y);this.$VideoChannelInteraction17.set(y.id,ca);}}this.$VideoChannelInteraction6.getViewportTracker().invalidateAllStoriesCache();};x.prototype.$VideoChannelInteraction75=function(){'use strict';for(var y=0;y<this.$VideoChannelInteraction26.length;y++){var z=this.$VideoChannelInteraction26[y];c('Style').set(z,'opacity','');}this.$VideoChannelInteraction25=null;this.$VideoChannelInteraction26=[];};x.prototype.$VideoChannelInteraction76=function(y){'use strict';if(!this.$VideoChannelInteraction25)this.$VideoChannelInteraction25=c('setImmediate')(this.$VideoChannelInteraction75.bind(this));this.$VideoChannelInteraction26.push(y);c('Style').set(y,'opacity',0);};x.prototype.shouldShowSidePanelOnLoad=function(){'use strict';var y=this.getVideoController(),z=y.getOption('VideoWithLiveBroadcast','isLive'),aa=y.getOption('VideoWithVODBroadcast','isLiveVOD'),ba=y.getOption('FeedAutoplay','shouldOpenSidePaneInChannelView');return q||r||z||aa||ba||t;};x.prototype.$VideoChannelInteraction48=function(y,z){'use strict';if(!s)return;var aa=c('DOM').scry(y,"._4lqt");if(aa.length===2){c('CSS').conditionShow(aa[0],c('CSS').matchesSelector(aa[0],"._3t0x")==z);c('CSS').conditionShow(aa[1],c('CSS').matchesSelector(aa[1],"._3t0x")==z);}};x.prototype.setFirstStory=function(y,z,aa,ba){'use strict';this.$VideoChannelInteraction76(c('DOM').find(y,"._23if"));this.$VideoChannelInteraction76(c('DOM').find(y,"._23ig"));if(!aa){var ca=this.$VideoChannelInteraction6.getWNSRootVideoPlayerController(),da=c('DOM').find(y,"._1kg0");!ca?k(0):void 0;var ea=ca.getRootNode();this.$VideoChannelInteraction36=ea;c('DOM').replace(da,ea);this.$VideoChannelInteraction74(y,z,false);this.$VideoChannelInteraction62();this.registerVideoController(ca);return;}this.$VideoChannelInteraction74(y,z,true);this.$VideoChannelInteraction62();var fa=this.$VideoChannelInteraction6.getOriginalVideoPlayerController();if(!fa)setTimeout(function(){if(this.shouldShowSidePanelOnLoad())this.$VideoChannelInteraction77();var pa=this.$VideoChannelInteraction6.getVideoControllers();if(!pa.length)return;var qa=pa[0].getOption('WatchAndScroll','isEligible');this.$VideoChannelInteraction6.updateWNSEligibilityButton(qa);}.bind(this));if(fa){var ga=this.$VideoChannelInteraction56(),ha=ga.prependStories,ia=ga.prependThumbnails,ja=ga.appendStories,ka=ga.appendThumbnails;if(!ba){var la=c('DOM').find(y,"._1kg0"),ma=fa.getRootNode();this.$VideoChannelInteraction36=ma;c('DOM').replace(la,ma);}else{var na=c('DOM').scry(y,"._5v-_");if(na.length===1&&na[0].childNodes.length===0)na[0].appendChild(fa.getRootNode());}fa.setDimensions(this.$VideoChannelInteraction6.getVideoWidth(),this.$VideoChannelInteraction6.getVideoHeight());if(!fa.isState('paused'))fa.play(c('VideoPlayerReason').USER);this.$VideoChannelInteraction70(fa);this.$VideoChannelInteraction71(fa);this.$VideoChannelInteraction16.set(fa,y);this.$VideoChannelInteraction17.set(y.id,fa);if(this.shouldShowSidePanelOnLoad())this.$VideoChannelInteraction77();this.prependStories(ha,ia);this.appendStories(ja,ka);this.$VideoChannelInteraction6.registerWNSVideoControllers();this.$VideoChannelInteraction6.registerChannelInteractionsFromWNS();var oa=fa.getOption('WatchAndScroll','isEligible');this.$VideoChannelInteraction6.updateWNSEligibilityButton(oa);}this.$VideoChannelInteraction6.hideLoadingState();this.$VideoChannelInteraction78();this.$VideoChannelInteraction48(y,true);this.$VideoChannelInteraction62();};x.prototype.appendStories=function(y,z){'use strict';for(var aa=0;aa<y.length;aa++){var ba=y[aa],ca=z[aa];this.$VideoChannelInteraction76(c('DOM').find(ba,"._21mb"));this.$VideoChannelInteraction76(ca);this.$VideoChannelInteraction74(ba,ca,true);}this.$VideoChannelInteraction62();};x.prototype.prependStories=function(y,z){'use strict';y=y.reverse();z=z.reverse();for(var aa=0;aa<y.length;aa++)this.$VideoChannelInteraction74(y[aa],z[aa],false);this.$VideoChannelInteraction62();};x.prototype.$VideoChannelInteraction77=function(event){'use strict';this.$VideoChannelInteraction59(c('VideoChannelLoggerEventTargets').SHOW_SIDE_PANE);event&&event.preventDefault();if(this.$VideoChannelInteraction12)return;this.$VideoChannelInteraction12=true;this.$VideoChannelInteraction64(this.$VideoChannelInteraction9.children[this.getCurrentAbsoluteIndex()],this.getVideoController().getVideoID(),this.getVideoController().getAdClientToken());c('CSS').addClass(this.$VideoChannelInteraction54().getRoot(),"_57bj");c('Arbiter').inform(c('StreamingReactionsTrayEvents').ShowChannelViewDetails);this.$VideoChannelInteraction45();this.$VideoChannelInteraction46();};x.prototype.$VideoChannelInteraction64=function(y,z,aa){'use strict';this.$VideoChannelInteraction18&&this.$VideoChannelInteraction18.abandon();var ba=c('DOM').scry(y,"._260p")[0];if(!ba){var ca=c('DOM').scry(y,"._5pc9"),da=ca[0];if(!da||!da.childNodes||!da.childNodes.length)ba=c('DOM').scry(y,"._3upq")[0];}var ea=this.$VideoChannelInteraction6.getVideoChainingCaller(),fa=c('XVideoChannelViewDetailsAsyncController').getURIBuilder().setInt('video_id',z).setEnum('caller',ea);if(aa)fa.setString('ad_impression_token',aa);if(ba){this.$VideoChannelInteraction18=new (c('AsyncRequest'))().setRelativeTo(ba).setURI(fa.getURI()).setMethod('GET').setReadOnly(true).setHandler(function(){this.$VideoChannelInteraction18=null;}.bind(this)).setErrorHandler(function(){this.$VideoChannelInteraction18=null;}.bind(this));this.$VideoChannelInteraction18.send();}};x.prototype.$VideoChannelInteraction79=function(event){'use strict';this.$VideoChannelInteraction59(c('VideoChannelLoggerEventTargets').HIDE_SIDE_PANE);this.$VideoChannelInteraction18&&this.$VideoChannelInteraction18.abandon();this.$VideoChannelInteraction12=false;c('CSS').removeClass(this.$VideoChannelInteraction54().getRoot(),"_57bj");c('Arbiter').inform(c('StreamingReactionsTrayEvents').HideChannelViewDetails);this.$VideoChannelInteraction46();this.$VideoChannelInteraction45();event&&event.preventDefault();};x.prototype.$VideoChannelInteraction78=function(){'use strict';var y=this.$VideoChannelInteraction54().getRoot();if(this.$VideoChannelInteraction15){c('CSS').removeClass(y,"_r7e");}else c('CSS').addClass(y,"_r7e");this.$VideoChannelInteraction15=!this.$VideoChannelInteraction15;};x.prototype.registerShowDetailsLink=function(y){'use strict';c('Event').listen(y,'click',function(){var z=x.getInteraction();!z?k(0):void 0;z.$VideoChannelInteraction77();});};x.prototype.registerHideDetailsLink=function(y){'use strict';c('Event').listen(y,'click',function(){var z=x.getInteraction();!z?k(0):void 0;z.$VideoChannelInteraction79();});};x.prototype.registerLiveReactionsInput=function(y,z,aa){'use strict';this.$VideoChannelInteraction32=y;this.$VideoChannelInteraction33=z;this.$VideoChannelInteraction34=aa;this.$VideoChannelInteraction50();};x.prototype.registerShareSheetVisibility=function(y){'use strict';var z=x.getInteraction();!z?k(0):void 0;z.$VideoChannelInteraction27=y;z.$VideoChannelInteraction45();};x.prototype.registerVideoController=function(y){'use strict';this.$VideoChannelInteraction70(y);this.$VideoChannelInteraction71(y);var z=c('VideoChannelController').getVideoChannel();if(!z)return;y.setIsInChannel(true);z.registerVideoController(y);if(this.$VideoChannelInteraction16.has(y))return;var aa=this.findStoryForVideoController(y);if(aa){this.$VideoChannelInteraction16.set(y,aa);this.$VideoChannelInteraction17.set(aa.id,y);}};x.prototype.findStoryForVideoController=function(y){'use strict';for(var z=0;z<this.$VideoChannelInteraction9.children.length;++z){var aa=this.$VideoChannelInteraction9.children[z];if(aa.contains(y.getRootNode()))return aa;}return null;};x.prototype.getVideoControllerForStory=function(y){'use strict';return this.$VideoChannelInteraction17.get(y.id);};x.prototype.getStoryForVideoController=function(y){'use strict';return this.$VideoChannelInteraction16.get(y);};x.prototype.getStoryIndex=function(y){'use strict';for(var z=0;z<this.$VideoChannelInteraction9.children.length;++z)if(y===this.$VideoChannelInteraction9.children[z])return z;return -1;};x.getInteraction=function(){'use strict';var y=c('VideoChannelController').getVideoChannel();if(!y)return null;var z=y.getInteraction();if(!z){z=new x(y);y.setInteraction(z);}return z;};x.setTitle=function(y,z){'use strict';var aa=x.getInteraction();if(!aa)return;aa.setTitle(y,z);};x.setFirstStory=function(y,z,aa){'use strict';var ba=x.getInteraction();if(!ba)return;ba.setFirstStory(y,z,aa);};x.registerShowDetailsLink=function(y){'use strict';var z=x.getInteraction();if(!z){c('VideoWatchAndScrollController').registerChannelInteraction(function(){var aa=x.getInteraction();!aa?k(0):void 0;aa.registerShowDetailsLink(y);});return;}z.registerShowDetailsLink(y);};x.registerHideDetailsLink=function(y){'use strict';var z=x.getInteraction();if(!z){c('VideoWatchAndScrollController').registerChannelInteraction(function(){var aa=x.getInteraction();!aa?k(0):void 0;aa.registerHideDetailsLink(y);});return;}z.registerHideDetailsLink(y);};x.registerLiveReactionsInput=function(y,z,aa){'use strict';var ba=x.getInteraction();if(!ba){c('VideoWatchAndScrollController').registerChannelInteraction(function(){var ca=x.getInteraction();!ca?k(0):void 0;ca.registerLiveReactionsInput(y,z,aa);});return;}ba.registerLiveReactionsInput(y,z,aa);};x.registerShareSheetVisibility=function(y){'use strict';var z=x.getInteraction();if(!z){c('VideoWatchAndScrollController').registerChannelInteraction(function(){var aa=x.getInteraction();!aa?k(0):void 0;aa.registerShareSheetVisibility(y);});return;}z.registerShareSheetVisibility(y);};x.registerVideoController=function(y){'use strict';var z=x.getInteraction();if(!z)return;z.registerVideoController(y);};x.registerAspectRatio=function(y,z){'use strict';u[y]=z;var aa=x.getInteraction();if(s&&aa&&aa.$VideoChannelInteraction16.size){var ba=aa.getCurrentAbsoluteIndex(),ca=aa.$VideoChannelInteraction9,da=aa.getVideoControllerForStory(ca.children[ba]);if(w!==z&&da&&da.getVideoID()===y)aa.$VideoChannelInteraction62();}};f.exports=x;}),null);